<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lectura de Medidor</title>
    <style>
        #content-agujas,body{align-items:center;display:flex}#formulario,#medidor,.reloj,body{display:flex}*{margin:0;padding:0}body{min-height:100vh;justify-content:center;background-image:url("https://tec-eos.com/v3/wp-content/uploads/2022/12/Header-TEC-EOS.jpg");background-repeat:no-repeat;background-size:cover}#medidor{width:550px;height:550px;background:linear-gradient(white,#d3d3d3);border-radius:100%;border:1px solid #000;filter:drop-shadow(0 10px 2px rgba(0, 0, 0, .5));flex-direction:column;align-items:center}#content-agujas{justify-content:center;width:100%;height:90px;margin-top:130px}.reloj{width:90px;height:90px;margin:1px;border-radius:100%;border:1px solid #000;position:relative;align-items:center;justify-content:center}#formulario,#formulario *{font-family:Arial,Helvetica,sans-serif;font-size:x-large;text-align:center;border-radius:10px}.agujas,.fondo,.numeros{position:absolute;width:90px;height:90px;transition: ease;transition-duration: 0.5s;transition-property: all;}#formulario{margin-top:50px;padding:0 20%;max-width:100%;height:200px;flex-direction:column;align-items:center}#formulario *{margin-bottom:4px;height:30px}
    </style>
</head>
<body>
    <script>
        document.addEventListener("DOMContentLoaded",function(){let t=document.body,e=document.createElement("main"),a=document.createElement("div");a.id="medidor";let l=document.createElement("div");l.id="content-agujas";let n=(t,e)=>{let a=document.createElement("div");a.className="reloj";let l=document.createElement("div");l.className="fondo";let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","90"),n.setAttribute("height","90"),n.setAttribute("viewBox","0 0 90 90");let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx","45"),r.setAttribute("cy","45"),r.setAttribute("r","45"),r.setAttribute("stroke","black"),r.setAttribute("fill","white"),n.appendChild(r),l.appendChild(n);let i=document.createElement("div");i.className="numeros";let d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("width","90"),d.setAttribute("height","90"),d.setAttribute("viewBox","0 0 90 90"),d.setAttribute("id",t);let u=null;(u=!0==e?[{x:45,y:15,text:"0"},{x:65.572,y:21.684,text:"1"},{x:78.287,y:39.184,text:"2"},{x:78.287,y:60.816,text:"3"},{x:65.572,y:78.316,text:"4"},{x:45,y:85,text:"5"},{x:24.428,y:78.316,text:"6"},{x:11.713,y:60.816,text:"7"},{x:11.713,y:39.184,text:"8"},{x:24.428,y:21.684,text:"9"}]:[{x:45,y:15,text:"0"},{x:65.572,y:21.684,text:"9"},{x:78.287,y:39.184,text:"8"},{x:78.287,y:60.816,text:"7"},{x:65.572,y:78.316,text:"6"},{x:45,y:85,text:"5"},{x:24.428,y:78.316,text:"4"},{x:11.713,y:60.816,text:"3"},{x:11.713,y:39.184,text:"2"},{x:24.428,y:21.684,text:"1"}]).forEach(({x:t,y:e,text:a})=>{let l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("font-family","Arial"),l.setAttribute("font-size","15"),l.setAttribute("text-anchor","middle"),l.setAttribute("fill","black"),l.setAttribute("x",t),l.setAttribute("y",e),l.textContent=a,d.appendChild(l)}),i.appendChild(d);let c=document.createElement("div");c.className="agujas",c.id=t.toLowerCase();let s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width","90"),s.setAttribute("height","90"),s.setAttribute("viewBox","0 0 90 90");let $=document.createElementNS("http://www.w3.org/2000/svg","line");return $.setAttribute("x1","45"),$.setAttribute("y1","45"),$.setAttribute("x2","45"),$.setAttribute("y2","10"),$.setAttribute("stroke","black"),$.setAttribute("stroke-width","2"),$.setAttribute("stroke-linecap","round"),s.appendChild($),c.appendChild(s),a.appendChild(l),a.appendChild(i),a.appendChild(c),a};["DM","UM","C","D","U"].forEach((t,e)=>{e%2==1?l.appendChild(n(t,!1)):l.appendChild(n(t,!0))});let r=document.createElement("div");r.id="formulario";let i=document.createElement("div");i.className="lectura";let d=document.createElement("label");d.setAttribute("for","lecturainput"),d.textContent="Visualizar Lectura",i.appendChild(d);let u=document.createElement("input");u.id="lecturainput",i.appendChild(u);let c=document.createElement("hr");c.style.border="1px",i.appendChild(c);let s=document.createElement("label");s.setAttribute("for","validalecturainput"),s.textContent="Validar Lectura",i.appendChild(s);let $=document.createElement("input");$.id="validalecturainput",i.appendChild($);let o=document.createElement("button");o.id="validarLectura",o.textContent="Validar",i.appendChild(o);let p=document.createElement("button");p.id="nuevaLectura",p.textContent="Generar",i.appendChild(p);let m=document.createElement("button");m.id="limpiar",m.textContent="Limpiar",i.appendChild(m),r.appendChild(i),a.appendChild(l),a.appendChild(r),e.appendChild(a),t.appendChild(e);let y="00000";function x(t,e,a,l,n){document.getElementById("unidad").setAttribute("style",`transform: rotate(${36*n}deg)`),document.getElementById("decena").setAttribute("style",`transform: rotate(${-(36*l)}deg)`),document.getElementById("centena").setAttribute("style",`transform: rotate(${36*a}deg)`),document.getElementById("unidadmillar").setAttribute("style",`transform: rotate(${-(36*e)}deg)`),document.getElementById("decenamillar").setAttribute("style",`transform: rotate(${36*t}deg)`)}function g(t){let e=36*t.decenaDeMillar+t.unidadDeMillar/10*36+t.centena/100*36+t.decena/1e3*36+t.unidad/1e4*36,a=-(36*t.unidadDeMillar)-t.centena/10*36-t.decena/100*36-t.unidad/1e3*36,l=36*t.centena+t.decena/10*36+t.unidad/100*36,n=-(36*t.decena)-t.unidad/10*36,r=36*t.unidad;document.getElementById("u").setAttribute("style",`transform: rotate(${r}deg)`),document.getElementById("d").setAttribute("style",`transform: rotate(${n}deg)`),document.getElementById("c").setAttribute("style",`transform: rotate(${l}deg)`),document.getElementById("um").setAttribute("style",`transform: rotate(${a}deg)`),document.getElementById("dm").setAttribute("style",`transform: rotate(${e}deg)`)}function _(t){let[e,a]=t.toString().split("."),l=e.padStart(5,"0"),n=l.charAt(0),r=l.charAt(1),i=l.charAt(2),d=l.charAt(3),u=l.charAt(4),c=a||"0";return{unidad:parseFloat(u+"."+c),decena:parseInt(d),centena:parseInt(i),unidadDeMillar:parseInt(r),decenaDeMillar:parseInt(n),decimal:c}}document.getElementById("lecturainput").addEventListener("input",function t(){let e=parseFloat(document.getElementById("lecturainput").value);!isNaN(e)&&e>0&&e<1e5?(y=e,g(_(e))):document.getElementById("lecturainput").value=""}),document.getElementById("validarLectura").addEventListener("click",function t(){let e=parseFloat(document.getElementById("validalecturainput").value);e==parseInt(y)||e==y?alert("\xa1Muy Bien!"):alert("Mal, la lectura correcta es: "+y)}),document.getElementById("nuevaLectura").addEventListener("click",function t(){document.getElementById("lecturainput").value="",document.getElementById("validalecturainput").value="",g(_(y=Math.round(999999*Math.random())/10))}),document.getElementById("limpiar").addEventListener("click",function t(){g(_(0)),y=0,document.getElementById("lecturainput").value="",document.getElementById("validalecturainput").value=""})});
    </script>
</body>
</html>
